import{j as e}from"./vendor-markdown-BFMyoSdA.js";import{r as t,g as r,R as n}from"./vendor-react-DOhqjkkY.js";import{g as o}from"./data-guides-e6CimqWF.js";const i=(e,r)=>{const[n,o]=t.useState(()=>{if("undefined"==typeof window)return r;const t=window.localStorage.getItem(e);if(!t)return r;try{return JSON.parse(t)}catch(n){return t}});return t.useEffect(()=>{const t=t=>{if(t.key===e&&null!==t.newValue)try{o(JSON.parse(t.newValue))}catch(r){o(t.newValue)}};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[e]),[n,t=>{try{const r=t instanceof Function?t(n):t;o(r),"undefined"!=typeof window&&window.localStorage.setItem(e,JSON.stringify(r))}catch(r){r.name}}]},a=t.createContext(),s=({children:r})=>{const[n,o]=i("theme","dark");t.useEffect(()=>{const e=document.documentElement;"dark"===n?e.removeAttribute("data-theme"):e.setAttribute("data-theme","light")},[n]);return e.jsx(a.Provider,{value:{theme:n,toggleTheme:()=>{o(e=>"dark"===e?"light":"dark")}},children:r})},d=()=>{const e=t.useContext(a);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e};var l,c,m,u,p,g={exports:{}};function x(){if(c)return l;c=1;return l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function h(){if(u)return m;u=1;var e=x();function t(){}function r(){}return r.resetWarningCache=t,m=function(){function n(t,r,n,o,i,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function o(){return n}n.isRequired=n;var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i}}function f(){return p||(p=1,g.exports=h()()),g.exports}const y=r(f()),b=()=>{const[e,r]=t.useState([]),[n,i]=t.useState(!0),[a,s]=t.useState(null);return t.useEffect(()=>{(async()=>{r(o),i(!1)})()},[]),{guides:e,loading:n,error:a}},v=({size:t="md",color:r="var(--accent-cyan)",text:n})=>{const o={sm:"24px",md:"40px",lg:"60px"},i=o[t]||o.md;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"2rem"},role:"status","aria-live":"polite","aria-busy":"true",children:[e.jsx("div",{className:"loading-spinner",style:{width:i,height:i,border:"3px solid rgba(255, 255, 255, 0.1)",borderTop:`3px solid ${r}`,borderRadius:"50%",animation:"spin 1s linear infinite"},"aria-hidden":"true"}),n&&e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",margin:0},children:n}),e.jsx("span",{className:"sr-only",children:"Loading..."})]})};v.propTypes={size:y.oneOf(["sm","md","lg"]),color:y.string,text:y.string};const j=({embedHtml:r,theme:o,onLoad:i})=>{const a=n.useRef(null),[s,d]=t.useState(!1);return t.useEffect(()=>{if(!a.current||!r)return;const e=r.replace(/<script\b[^>]*>([\s\S]*?)<\/script>/gim,"");a.current.innerHTML=e;const t=a.current.querySelector("blockquote");t&&("dark"===o?t.setAttribute("data-embed-theme","dark"):t.removeAttribute("data-embed-theme"));const n="reddit-wjs";let s=document.getElementById(n);s&&s.remove(),s=document.createElement("script"),s.id=n,s.src="https://embed.reddit.com/widgets.js",s.async=!0,s.charset="UTF-8",document.body.appendChild(s);const l=setInterval(()=>{if(a.current){const e=a.current.querySelector("iframe");e&&e.offsetHeight>0&&(d(!0),i&&i(),clearInterval(l))}},100),c=setTimeout(()=>{clearInterval(l),d(!0),i&&i()},8e3);return()=>{clearInterval(l),clearTimeout(c)}},[r,o]),e.jsxs("div",{style:{position:"relative",minHeight:s?"0":"300px"},children:[!s&&e.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"var(--modal-bg)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",zIndex:10,borderRadius:"12px"},children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Loading discussion..."})]}),e.jsx("div",{ref:a})]})},w=({guide:r,onClose:n})=>{const{theme:o}=d();t.useEffect(()=>(window.twttr&&window.twttr.widgets&&window.twttr.widgets.load(),document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[r]),t.useEffect(()=>{const e=e=>{"Escape"===e.key&&n()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]);return e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",overflowY:"auto"},onClick:n,children:e.jsxs("div",{style:{background:"var(--modal-bg)",border:"1px solid var(--modal-border)",borderRadius:"24px",width:"100%",maxWidth:"600px",maxHeight:"85vh",overflowY:"auto",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",padding:"2rem",margin:"auto"},onClick:e=>e.stopPropagation(),children:[e.jsx("button",{onClick:n,style:{position:"absolute",top:"1.5rem",right:"1.5rem",background:"var(--btn-secondary-bg)",border:"none",color:"var(--text-primary)",width:"32px",height:"32px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",transition:"background 0.2s",zIndex:10},children:"Ã—"}),e.jsx("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"1.5rem",paddingRight:"2rem"},children:r.title}),r.embedHtml&&r.embedHtml.includes('blockquote class="reddit-embed-bq"')?e.jsx(j,{embedHtml:r.embedHtml,theme:o}):e.jsx("div",{dangerouslySetInnerHTML:{__html:r.embedHtml}}),e.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:e.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"btn-primary",style:{fontSize:"0.9rem",textDecoration:"none"},children:[r.link.includes("reddit.com")?"Open on Reddit":r.link.includes("twitter.com")||r.link.includes("x.com")?"Open on Twitter":"Open Link"," â†—"]})})]})})},k=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{guides:r,loading:n,error:o}=b(),[i,a]=t.useState(null),[s,d]=t.useState(null),[l,c]=t.useState(""),m=t.useMemo(()=>{if(!r)return[];const e=new Set;return r.forEach(t=>{t.tags&&t.tags.forEach(t=>e.add(t))}),Array.from(e).sort()},[r]),u=t.useMemo(()=>{if(!r)return[];let e=[...r];if(s&&(e=e.filter(e=>e.tags&&e.tags.includes(s))),l.trim()){const t=l.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(t))||e.author&&e.author.toLowerCase().includes(t))}return e},[r,s,l]);return t.useEffect(()=>{if(!document.getElementById("twitter-wjs")){const e=document.createElement("script");e.id="twitter-wjs",e.src="https://platform.twitter.com/widgets.js",e.async=!0,e.charset="utf-8",document.body.appendChild(e)}},[]),n?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:e.jsx(v,{size:"lg"})}):o?e.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"var(--text-danger)"},children:[e.jsx("h3",{children:"Error loading guides"}),e.jsx("p",{children:"Please try again later."})]}):e.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",paddingBottom:"4rem"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[e.jsx("h2",{className:"text-gradient",style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"Community Guides"}),e.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"600px",margin:"0 auto"},children:"Curated discussions and threads to help you maximize savings."})]}),e.jsx("div",{style:{maxWidth:"500px",margin:"0 auto 2rem"},children:e.jsxs("div",{className:"glass-panel",style:{display:"flex",alignItems:"center",padding:"0.75rem 1rem",borderRadius:"12px",background:"rgba(255,255,255,0.03)"},children:[e.jsx("span",{style:{marginRight:"0.75rem",color:"var(--text-secondary)"},children:"ðŸ”"}),e.jsx("input",{type:"text",placeholder:"Search guides...",value:l,onChange:e=>c(e.target.value),style:{background:"transparent",border:"none",color:"var(--text-primary)",fontSize:"1rem",width:"100%",outline:"none"}}),l&&e.jsx("button",{onClick:()=>c(""),style:{background:"rgba(255,255,255,0.1)",border:"none",color:"var(--text-secondary)",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:"âœ•"})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap",marginBottom:"3rem",maxWidth:"900px",margin:"0 auto 3rem"},children:[e.jsx("button",{onClick:()=>d(null),style:{background:s?"var(--tag-bg)":"var(--nav-bg-active)",color:s?"var(--nav-text)":"var(--nav-text-hover)",border:"1px solid var(--glass-border)",padding:"8px 20px",borderRadius:"100px",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s"},children:"All"}),m.map(t=>e.jsx("button",{onClick:()=>d(t===s?null:t),style:{background:s===t?"var(--accent-cyan)":"var(--tag-bg)",color:s===t?"#000":"var(--nav-text)",border:s===t?"1px solid var(--accent-cyan)":"1px solid var(--glass-border)",padding:"8px 16px",borderRadius:"100px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",transition:"all 0.2s",boxShadow:s===t?"0 0 15px rgba(0, 240, 255, 0.3)":"none"},children:t},t))]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"2rem",alignItems:"start"},children:u.map(t=>{const r=!!t.embedHtml;return e.jsxs("div",{className:"glass-panel",onClick:()=>{r?a(t):window.open(t.link,"_blank")},style:{padding:"1.5rem",border:"1px solid var(--item-border)",background:"var(--item-bg)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"pointer"},children:[e.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap",marginBottom:"1rem"},children:t.tags.slice(0,3).map(t=>e.jsx("button",{onClick:e=>{e.stopPropagation(),d(t)},style:{fontSize:"0.7rem",padding:"4px 8px",borderRadius:"6px",background:s===t?"var(--accent-cyan-dim)":"var(--tag-bg)",color:s===t?"var(--accent-cyan)":"var(--tag-text)",fontWeight:500,border:s===t?"1px solid var(--accent-cyan)":"1px solid var(--tag-border)",cursor:"pointer"},children:t},t))}),e.jsx("h3",{style:{margin:"0 0 0.8rem 0",fontSize:"1.2rem",lineHeight:"1.4",color:"var(--card-title)"},children:e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},className:"hover-underline",onClick:e=>e.stopPropagation(),children:t.title})}),e.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"var(--text-secondary)",fontSize:"0.9rem",lineHeight:"1.5"},children:t.description}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"auto",paddingTop:"1rem",borderTop:"1px solid var(--item-border)"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:e.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:t.author})}),r?e.jsx("button",{onClick:e=>{e.stopPropagation(),a(t)},style:{background:"var(--accent-cyan)",color:"#000",border:"none",padding:"8px 16px",borderRadius:"20px",fontSize:"0.85rem",fontWeight:600,cursor:"pointer",transition:"transform 0.2s",boxShadow:"0 4px 12px rgba(0, 240, 255, 0.3)"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"Read Thread"}):e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),style:{color:"var(--accent-cyan)",fontSize:"0.85rem",fontWeight:600,textDecoration:"none"},children:"Visit Link â†—"})]})]},t.id)})}),0===u.length&&e.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"var(--text-secondary)"},children:['No guides found for tag "',s,'".']}),i&&e.jsx(w,{guide:i,onClose:()=>a(null)}),e.jsx("style",{children:"\n                .hover-underline:hover { text-decoration: underline !important; }\n            "})]})}},Symbol.toStringTag,{value:"Module"}));export{k as G,v as L,y as P,s as T,d as a,b,i as u};
