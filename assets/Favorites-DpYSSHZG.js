import{j as e}from"./vendor-markdown-Bjd2cn-1.js";import{r,L as i}from"./vendor-react-BbiizXEL.js";import{P as s,a,c as t,L as n}from"./route-guides-BXAUnvqR.js";import{u as o,w as d,f as l}from"./route-ai-DxpbTNZV.js";import{u as c,C as m}from"./route-cards-fvMaDMC_.js";import"./index-Bp-zru5f.js";import"./data-guides-e6CimqWF.js";import"./data-vouchers-CM2ASqKI.js";import"./vendor-fuse-DRqTZInw.js";import"./data-cards-B9WAUovl.js";s.shape({id:s.string,brand:s.string.isRequired,logo:s.string,category:s.string.isRequired,platforms:s.arrayOf(s.shape({name:s.string.isRequired,fee:s.string,cap:s.string,link:s.string})).isRequired}).isRequired,s.func,s.number;const h=()=>{const{favoriteVouchers:s,favoriteCards:h,favoriteGuides:v,isVoucherFavorite:x,isCardFavorite:p,toggleFavoriteVoucher:u,toggleFavoriteCard:f,toggleFavoriteGuide:j,totalFavorites:y}=a(),{vouchers:b,loading:k}=o(),{creditCards:N,loading:C}=c(),{guides:S,loading:w}=t(),[B,z]=r.useState("cards"),R=r.useMemo(()=>b?b.filter(e=>x(e.id)):[],[b,s,x]),W=r.useMemo(()=>N?N.filter(e=>p(e.id)):[],[N,h,p]),F=r.useMemo(()=>v.map(e=>{const r=S.find(r=>r.id===e);if(r)return{id:e,type:"community",title:r.title,description:r.description,author:r.author,link:r.link,tags:r.tags};const i=e.split("::");if(i.length>=2){const[r,s,a]=i,t="wealth"===s?d[r]:l[r];if(!t)return null;if("wealth"===s){const i=t.tiers?.find(e=>e.name===a);return i?{id:e,bank:r,type:s,...i}:null}return{id:e,bank:r,type:s,...t}}return null}).filter(Boolean),[v,S]),$=F.filter(e=>"community"===e.type).length,I=F.filter(e=>"community"!==e.type).length;r.useMemo(()=>{const e={};return W.forEach(r=>{e[r.bank]||(e[r.bank]=[]),e[r.bank].push(r)}),e},[W]),r.useMemo(()=>{const e={};return R.forEach(r=>{const i=r.category||"Other";e[i]||(e[i]=[]),e[i].push(r)}),e},[R]);const V=k||C||w,A=[{id:"cards",label:"ðŸ’³ Cards",count:h.length},{id:"vouchers",label:"ðŸŽŸï¸ Vouchers",count:s.length},{id:"guides",label:"ðŸ“š Guides",count:$},{id:"banking",label:"ðŸ¦ Banking",count:I}];return V?e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",flexDirection:"column",gap:"1rem"},children:[e.jsx(n,{size:"lg"}),e.jsx("span",{style:{color:"var(--text-secondary)"},children:"Loading your favorites..."})]}):e.jsxs("div",{style:{padding:"1rem 0 4rem"},children:[e.jsxs("header",{style:{textAlign:"center",marginBottom:"2rem"},children:[e.jsx("h2",{className:"text-gradient",style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"â¤ï¸ My Favorites"}),e.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"500px",margin:"0 auto"},children:y>0?`You have ${y} saved item${y>1?"s":""}`:"Save cards, vouchers, and guides for quick access"})]}),y>0&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem",maxWidth:"900px",margin:"0 auto 2rem"},children:[e.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.25rem"},children:"ðŸ’³"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--accent-cyan)"},children:h.length}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Cards saved"})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.25rem"},children:"ðŸŽŸï¸"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--accent-pink)"},children:s.length}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Vouchers saved"})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.25rem"},children:"ðŸ¦"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--accent-green)"},children:I}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Banking saved"})]}),$>0&&e.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.25rem"},children:"ðŸ“š"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--accent-violet)"},children:$}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Community guides"})]})]}),y>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[h.length>=2&&e.jsxs("button",{onClick:()=>{const e=h.join(",");window.location.href=`/#/compare-cards?cards=${e}`},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"10px",background:"linear-gradient(90deg, var(--accent-violet), var(--accent-pink))",border:"none",color:"#fff",fontWeight:"600",cursor:"pointer"},children:["âš–ï¸ Compare Cards (",h.length,")"]}),e.jsx("button",{onClick:()=>{const e={cards:W.map(e=>e.name),vouchers:R.map(e=>e.brand),exportedAt:(new Date).toISOString()},r=`My Favorites\n\nCards (${e.cards.length}):\n${e.cards.map(e=>`â€¢ ${e}`).join("\n")}\n\nVouchers (${e.vouchers.length}):\n${e.vouchers.map(e=>`â€¢ ${e}`).join("\n")}`;navigator.clipboard.writeText(r),alert("Favorites list copied to clipboard!")},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"10px",background:"rgba(255,255,255,0.1)",border:"1px solid var(--glass-border)",color:"var(--text-primary)",fontWeight:"500",cursor:"pointer"},children:"ðŸ“‹ Export List"})]}),y>0&&e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",color:"var(--text-secondary)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:"ðŸ• Recently Added"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"0.5rem"},children:[W.slice(-3).reverse().map(r=>e.jsxs(i,{to:`/card-guide/${r.id}`,className:"glass-panel",style:{minWidth:"200px",padding:"1rem",textDecoration:"none",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"rgba(6, 182, 212, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:"ðŸ’³"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",fontSize:"0.9rem"},children:r.name.length>20?r.name.slice(0,20)+"...":r.name}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:r.bank})]})]},`recent-card-${r.id}`)),R.slice(-2).reverse().map(r=>e.jsxs(i,{to:`/voucher/${r.id}`,className:"glass-panel",style:{minWidth:"180px",padding:"1rem",display:"flex",alignItems:"center",gap:"12px",textDecoration:"none"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"rgba(236, 72, 153, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:"ðŸŽŸï¸"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",fontSize:"0.9rem"},children:r.brand}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:r.category})]})]},`recent-voucher-${r.id}`))]})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap"},children:A.map(r=>e.jsxs("button",{onClick:()=>z(r.id),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:B===r.id?"1px solid var(--accent-cyan)":"1px solid var(--glass-border)",background:B===r.id?"rgba(6, 182, 212, 0.15)":"rgba(255,255,255,0.05)",color:B===r.id?"var(--accent-cyan)":"var(--text-secondary)",cursor:"pointer",fontSize:"1rem",fontWeight:B===r.id?"600":"400",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.label,r.count>0&&e.jsx("span",{style:{background:B===r.id?"var(--accent-cyan)":"var(--glass-border)",color:B===r.id?"#000":"var(--text-secondary)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:r.count})]},r.id))}),e.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:["cards"===B&&e.jsx("div",{children:0===W.length?e.jsx(g,{icon:"ðŸ’³",title:"No favorite cards yet",description:"Browse credit cards and click the heart icon to save them here.",link:"/know-your-cards",linkText:"Browse Cards"}):e.jsx("div",{className:"favorites-grid",children:W.map(r=>e.jsxs("div",{className:"favorite-card glass-panel",children:[e.jsx("button",{className:"favorite-remove-btn",onClick:()=>f(r.id),title:"Remove from favorites",children:"âœ•"}),e.jsxs(i,{to:`/card-guide/${r.id}`,className:"favorite-card-link",children:[e.jsx("div",{className:"favorite-card-image",children:e.jsx(m,{card:r,style:{maxWidth:"140px",maxHeight:"90px"}})}),e.jsxs("div",{className:"favorite-card-info",children:[e.jsx("h4",{children:r.name}),e.jsx("p",{className:"favorite-card-bank",children:r.bank}),e.jsxs("div",{className:"favorite-card-meta",children:[e.jsx("span",{className:"favorite-card-fee",children:"â‚¹0"===r.annualFee||"Nil"===r.annualFee?"âœ“ Free":r.annualFee}),e.jsx("span",{className:"favorite-card-reward",children:r.rewardRate})]})]})]})]},r.id))})}),"vouchers"===B&&e.jsx("div",{children:0===R.length?e.jsx(g,{icon:"ðŸŽŸï¸",title:"No favorite vouchers yet",description:"Browse vouchers and click the heart icon to save them here.",link:"/",linkText:"Browse Vouchers"}):e.jsx("div",{className:"favorites-grid",children:R.map(r=>e.jsxs("div",{className:"favorite-voucher glass-panel",children:[e.jsx("button",{className:"favorite-remove-btn",onClick:()=>u(r.id),title:"Remove from favorites",children:"âœ•"}),e.jsxs("div",{className:"favorite-voucher-content",children:[e.jsx("div",{className:"favorite-voucher-logo",children:r.logo?e.jsx("img",{src:r.logo,alt:r.brand}):e.jsx("span",{className:"brand-letter",children:r.brand.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"favorite-voucher-info",children:[e.jsx("h4",{children:r.brand}),e.jsx("p",{className:"favorite-voucher-category",children:r.category}),e.jsxs("div",{className:"favorite-voucher-platforms",children:[r.platforms.slice(0,3).map((r,i)=>e.jsx("span",{className:"platform-tag",children:r.name},i)),r.platforms.length>3&&e.jsxs("span",{className:"platform-tag",children:["+",r.platforms.length-3]})]})]})]})]},r.id))})}),"guides"===B&&e.jsx("div",{children:0===$?e.jsx(g,{icon:"ðŸ“š",title:"No saved community guides",description:"Browse guides and click the heart icon to save them.",link:"/guides",linkText:"Browse Guides"}):e.jsx("div",{className:"favorites-grid favorites-grid-guides",children:F.filter(e=>"community"===e.type).map(r=>e.jsxs("div",{className:"favorite-guide glass-panel",children:[e.jsx("button",{className:"favorite-remove-btn",onClick:()=>j(r.id),title:"Remove from favorites",children:"âœ•"}),e.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"favorite-guide-link",style:{textDecoration:"none"},children:[e.jsxs("div",{className:"favorite-guide-header",children:[e.jsx("span",{className:"favorite-guide-type",children:"ðŸ“ Community"}),e.jsx("span",{className:"favorite-guide-bank",children:r.author})]}),e.jsx("h4",{children:r.title}),r.tags&&e.jsx("div",{className:"favorite-guide-cards",style:{marginTop:"0.5rem"},children:r.tags.slice(0,2).map((r,i)=>e.jsx("span",{className:"card-tag",children:r},i))})]})]},r.id))})}),"banking"===B&&e.jsx("div",{children:0===I?e.jsx(g,{icon:"ðŸ¦",title:"No saved banking guides",description:"Browse banking guides and click the bookmark icon to save them.",link:"/banking-guides",linkText:"Browse Banking Guides"}):e.jsx("div",{className:"favorites-grid favorites-grid-guides",children:F.filter(e=>"community"!==e.type).map(r=>e.jsxs("div",{className:"favorite-guide glass-panel",children:[e.jsx("button",{className:"favorite-remove-btn",onClick:()=>j(r.id),title:"Remove from favorites",children:"âœ•"}),e.jsxs(i,{to:"/banking-guides",className:"favorite-guide-link",children:[e.jsxs("div",{className:"favorite-guide-header",children:[e.jsx("span",{className:"favorite-guide-type",children:"wealth"===r.type?"ðŸ’Ž Wealth":"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Family"}),e.jsx("span",{className:"favorite-guide-bank",children:r.bank})]}),e.jsx("h4",{children:r.name}),r.minNRV&&e.jsxs("p",{className:"favorite-guide-nrv",children:["Min NRV: ",r.minNRV]}),r.eligibleCards&&e.jsx("div",{className:"favorite-guide-cards",children:r.eligibleCards.slice(0,2).map((r,i)=>e.jsx("span",{className:"card-tag",children:r},i))})]})]},r.id))})})]})]})},g=({icon:r,title:s,description:a,link:t,linkText:n})=>e.jsxs("div",{className:"favorites-empty-state",children:[e.jsx("div",{className:"empty-icon",children:r}),e.jsx("h3",{children:s}),e.jsx("p",{children:a}),e.jsxs(i,{to:t,className:"empty-cta",children:[n," â†’"]})]});export{h as default};
