import{j as e}from"./vendor-markdown-Bjd2cn-1.js";import{r}from"./vendor-react-BbiizXEL.js";const t="voucherTracker_savingsHistory",o=[{key:"vouchers",label:"Voucher Discounts",icon:"ðŸŽ«",color:"#22c55e"},{key:"cashback",label:"Card Cashback",icon:"ðŸ’°",color:"#06b6d4"},{key:"rewards",label:"Reward Points",icon:"â­",color:"#8b5cf6"},{key:"lounge",label:"Lounge Access",icon:"âœˆï¸",color:"#f59e0b"},{key:"offers",label:"Card Offers",icon:"ðŸŽ",color:"#ec4899"}],n=()=>{const[e,o]=r.useState([]),[n,a]=r.useState({});r.useEffect(()=>{try{const e=localStorage.getItem(t);if(e){const r=JSON.parse(e);o(r.history||[]),a(r.monthlyTotals||{})}}catch(e){}},[]);const s=r.useMemo(()=>{const e=(new Date).toISOString().slice(0,7);return n[e]||0},[n]),i=r.useMemo(()=>{const e=[];for(let r=5;r>=0;r--){const t=new Date;t.setMonth(t.getMonth()-r);const o=t.toISOString().slice(0,7);e.push({month:t.toLocaleDateString("en-IN",{month:"short"}),amount:n[o]||0})}return e},[n]);return{savingsHistory:e,monthlyTotals:n,currentMonthSavings:s,chartData:i,addSaving:e=>{const r={id:Date.now(),...e,timestamp:(new Date).toISOString()};o(o=>{const s=[r,...o].slice(0,100),i=(new Date).toISOString().slice(0,7),l={...n,[i]:(n[i]||0)+(e.amount||0)};return a(l),((e,r)=>{try{localStorage.setItem(t,JSON.stringify({history:e,monthlyTotals:r}))}catch(o){}})(s,l),s})}}},a=({isOpen:t,onClose:n,onAdd:a})=>{const[s,i]=r.useState("vouchers"),[l,d]=r.useState(""),[c,x]=r.useState("");return t?e.jsx("div",{onClick:n,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("form",{onClick:e=>e.stopPropagation(),onSubmit:e=>{e.preventDefault(),l&&(a({category:s,amount:parseFloat(l),description:c||`${o.find(e=>e.key===s)?.label} savings`}),d(""),x(""),n())},style:{width:"90%",maxWidth:"400px",background:"var(--glass-bg, rgba(30, 30, 40, 0.98))",borderRadius:"20px",border:"1px solid var(--glass-border)",padding:"1.5rem"},children:[e.jsx("h3",{style:{margin:"0 0 1.5rem",color:"var(--text-primary)",textAlign:"center"},children:"ðŸ’° Log Savings"}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Category"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:o.map(r=>e.jsxs("button",{type:"button",onClick:()=>i(r.key),style:{padding:"8px 12px",borderRadius:"8px",border:`1px solid ${s===r.key?r.color:"var(--glass-border)"}`,background:s===r.key?`${r.color}20`:"transparent",color:s===r.key?r.color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.8rem"},children:[r.icon," ",r.label]},r.key))})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Amount Saved"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"},children:"â‚¹"}),e.jsx("input",{type:"number",value:l,onChange:e=>d(e.target.value),placeholder:"0",required:!0,style:{width:"100%",padding:"12px 12px 12px 30px",borderRadius:"10px",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.3)",color:"var(--text-primary)",fontSize:"1.1rem"}})]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Description (optional)"}),e.jsx("input",{type:"text",value:c,onChange:e=>x(e.target.value),placeholder:"e.g., Amazon voucher on iShop",style:{width:"100%",padding:"10px 12px",borderRadius:"10px",border:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.3)",color:"var(--text-primary)",fontSize:"0.9rem"}})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsx("button",{type:"button",onClick:n,style:{flex:1,padding:"12px",borderRadius:"10px",border:"1px solid var(--glass-border)",background:"transparent",color:"var(--text-secondary)",cursor:"pointer"},children:"Cancel"}),e.jsx("button",{type:"submit",style:{flex:2,padding:"12px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #22c55e, #06b6d4)",color:"#fff",fontWeight:"600",cursor:"pointer"},children:"Add Savings"})]})]})}):null},s=({data:r,maxValue:t})=>{const o=t||Math.max(...r.map(e=>e.amount),1);return e.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",height:"120px",padding:"0 8px"},children:r.map((r,t)=>e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"100%",background:r.amount>0?"linear-gradient(180deg, #06b6d4, #8b5cf6)":"rgba(255,255,255,0.1)",borderRadius:"6px 6px 0 0",height:`${Math.max(4,r.amount/o*100)}px`,transition:"height 0.3s ease"}}),e.jsx("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:r.month})]},t))})},i=()=>{const{savingsHistory:t,currentMonthSavings:i,chartData:l,addSaving:d}=n(),[c,x]=r.useState(!1),g=r.useMemo(()=>{const e={};return t.forEach(r=>{e[r.category]=(e[r.category]||0)+r.amount}),e},[t]),m=t.reduce((e,r)=>e+r.amount,0);return e.jsxs("div",{style:{padding:"1rem 0 4rem"},children:[e.jsxs("header",{style:{textAlign:"center",marginBottom:"2rem"},children:[e.jsx("h1",{className:"text-gradient",style:{fontSize:"clamp(1.8rem, 5vw, 2.5rem)",marginBottom:"0.5rem"},children:"ðŸ’° Savings Dashboard"}),e.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"500px",margin:"0 auto"},children:"Track your savings from vouchers, cashback, and card rewards"})]}),e.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"0 1rem"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",background:"linear-gradient(135deg, rgba(34,197,94,0.1), rgba(6,182,212,0.1))",borderColor:"rgba(34,197,94,0.3)"},children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"8px"},children:"This Month"}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#22c55e"},children:["â‚¹",i.toLocaleString("en-IN")]}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"4px"},children:(new Date).toLocaleDateString("en-IN",{month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"8px"},children:"All-Time Savings"}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",background:"linear-gradient(135deg, #06b6d4, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["â‚¹",m.toLocaleString("en-IN")]}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"4px"},children:[t.length," transactions logged"]})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"8px"},children:"Potential Monthly"}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#f59e0b"},children:["â‚¹",5e3.toLocaleString("en-IN")]}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"4px"},children:"Based on your cards"})]})]}),e.jsx("div",{style:{textAlign:"center",marginBottom:"2rem"},children:e.jsx("button",{onClick:()=>x(!0),style:{padding:"14px 32px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #22c55e, #06b6d4)",color:"#fff",fontSize:"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 20px rgba(34, 197, 94, 0.3)",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 25px rgba(34, 197, 94, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 20px rgba(34, 197, 94, 0.3)"},children:"+ Log Savings"})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[e.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[e.jsx("h3",{style:{margin:"0 0 1rem",fontSize:"1rem",color:"var(--text-primary)"},children:"ðŸ“ˆ Last 6 Months"}),e.jsx(s,{data:l})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[e.jsx("h3",{style:{margin:"0 0 1rem",fontSize:"1rem",color:"var(--text-primary)"},children:"ðŸ“Š By Category"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:o.map(r=>{const t=g[r.key]||0,o=m>0?t/m*100:0;return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[r.icon," ",r.label]}),e.jsxs("span",{style:{fontSize:"0.85rem",color:r.color,fontWeight:"600"},children:["â‚¹",t.toLocaleString("en-IN")]})]}),e.jsx("div",{style:{height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${o}%`,background:r.color,borderRadius:"3px",transition:"width 0.3s"}})})]},r.key)})})]})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",marginTop:"1.5rem"},children:[e.jsx("h3",{style:{margin:"0 0 1rem",fontSize:"1rem",color:"var(--text-primary)"},children:"ðŸ“ Recent Activity"}),0===t.length?e.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"ðŸ“Š"}),e.jsx("p",{style:{margin:0},children:"No savings logged yet. Start tracking your savings!"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:t.slice(0,10).map(r=>{const t=o.find(e=>e.key===r.category);return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"10px",background:"rgba(255,255,255,0.02)"},children:[e.jsx("span",{style:{width:"36px",height:"36px",borderRadius:"10px",background:`${t?.color}20`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.1rem"},children:t?.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-primary)"},children:r.description}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:new Date(r.timestamp).toLocaleDateString("en-IN")})]}),e.jsxs("span",{style:{fontSize:"1rem",fontWeight:"600",color:"#22c55e"},children:["+â‚¹",r.amount.toLocaleString("en-IN")]})]},r.id)})})]}),e.jsxs("div",{style:{marginTop:"2rem",padding:"1.25rem",background:"rgba(139, 92, 246, 0.1)",borderRadius:"12px",borderLeft:"4px solid #8b5cf6"},children:[e.jsx("h3",{style:{margin:"0 0 0.75rem",color:"var(--text-primary)",fontSize:"1rem"},children:"ðŸ’¡ Maximize Your Savings"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",color:"var(--text-secondary)",fontSize:"0.85rem",lineHeight:1.6},children:[e.jsxs("li",{children:["Buy vouchers on ",e.jsx("strong",{style:{color:"#06b6d4"},children:"iShop"})," with ICICI cards for up to 36% savings"]}),e.jsxs("li",{children:["Use ",e.jsx("strong",{style:{color:"#22c55e"},children:"HDFC SmartBuy"})," for 10X rewards on travel bookings"]}),e.jsx("li",{children:"Stack voucher discounts with card cashback for maximum value"}),e.jsx("li",{children:"Track all your savings here to see your total benefits!"})]})]})]}),e.jsx(a,{isOpen:c,onClose:()=>x(!1),onAdd:d})]})};export{i as default,n as useSavingsTracker};
