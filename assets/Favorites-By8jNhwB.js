import{j as e}from"./vendor-markdown-BXpuG2ZN.js";import{r,L as s}from"./vendor-react-CjeJ-6jf.js";import{a as i,c as a,L as t,H as n}from"./route-guides-a8LjJDdx.js";import{u as o,w as l,f as d}from"./route-ai-D-qDYLaZ.js";import{u as c,C as m}from"./route-cards-nSunilF2.js";import{e as g}from"./index-CkbBJ_VM.js";import"./data-guides-e6CimqWF.js";import"./data-vouchers-aHwK2Ory.js";import"./vendor-fuse-DRqTZInw.js";import"./data-cards-BqHIYWSb.js";const h=()=>{const{favoriteVouchers:h,favoriteCards:v,favoriteGuides:p,isVoucherFavorite:u,isCardFavorite:f,toggleFavoriteVoucher:j,toggleFavoriteCard:y,toggleFavoriteGuide:b,totalFavorites:k}=i(),{vouchers:N,loading:C}=o(),{creditCards:z,loading:S}=c(),{guides:w,loading:B}=a(),[W,F]=r.useState("cards"),R=r.useMemo(()=>N?N.filter(e=>u(e.slug)):[],[N,h,u]),$=r.useMemo(()=>z?z.filter(e=>f(e.id)):[],[z,v,f]),V=r.useMemo(()=>p.map(e=>{const r=w.find(r=>r.id===e);if(r)return{id:e,type:"community",title:r.title,description:r.description,author:r.author,link:r.link,tags:r.tags};const s=e.split("::");if(s.length>=2){const[r,i,a]=s,t="wealth"===i?l[r]:d[r];if(!t)return null;if("wealth"===i){const s=t.tiers?.find(e=>e.name===a);return s?{id:e,bank:r,type:i,...s}:null}return{id:e,bank:r,type:i,...t}}return null}).filter(Boolean),[p,w]),A=V.filter(e=>"community"===e.type).length,I=V.filter(e=>"community"!==e.type).length;r.useMemo(()=>{const e={};return $.forEach(r=>{e[r.bank]||(e[r.bank]=[]),e[r.bank].push(r)}),e},[$]),r.useMemo(()=>{const e={};return R.forEach(r=>{const s=r.category||"Other";e[s]||(e[s]=[]),e[s].push(r)}),e},[R]);const M=C||S||B,T=[{id:"cards",label:"ðŸ’³ Cards",count:v.length},{id:"vouchers",label:"ðŸŽŸï¸ Vouchers",count:h.length},{id:"guides",label:"ðŸ“š Guides",count:A},{id:"banking",label:"ðŸ¦ Banking",count:I}];return M?e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",flexDirection:"column",gap:"1rem"},children:[e.jsx(t,{size:"lg"}),e.jsx("span",{style:{color:"var(--text-secondary)"},children:"Loading your favorites..."})]}):e.jsxs("div",{style:{padding:"1rem 0 4rem"},children:[e.jsxs(n,{children:[e.jsx("title",{children:"My Favorites - Saved Cards, Vouchers & Guides | Card Perks"}),e.jsx("meta",{name:"description",content:"Access your saved credit cards, vouchers, and guides in one place. Quickly find your favorite deals and offers."}),e.jsx("link",{rel:"canonical",href:"https://cardperks.xyz/favorites"}),e.jsx("meta",{property:"og:title",content:"My Favorites - Card Perks"}),e.jsx("meta",{property:"og:description",content:"Access your saved credit cards, vouchers, and guides in one place."}),e.jsx("meta",{property:"og:url",content:"https://cardperks.xyz/favorites"}),e.jsx("meta",{property:"og:image",content:"https://cardperks.xyz/og/og-favorites.png"}),e.jsx("meta",{property:"twitter:image",content:"https://cardperks.xyz/og/og-favorites.png"})]}),e.jsxs("header",{style:{textAlign:"center",marginBottom:"2rem"},children:[e.jsx("h2",{className:"text-gradient",style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"â¤ï¸ My Favorites"}),e.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"500px",margin:"0 auto"},children:k>0?`You have ${k} saved item${k>1?"s":""}`:"Save cards, vouchers, and guides for quick access"})]}),k>0&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem",maxWidth:"900px",margin:"0 auto 2rem"},children:[e.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.25rem"},children:"ðŸ’³"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--accent-cyan)"},children:v.length}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Cards saved"})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.25rem"},children:"ðŸŽŸï¸"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--accent-pink)"},children:h.length}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Vouchers saved"})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.25rem"},children:"ðŸ¦"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--accent-green)"},children:I}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Banking saved"})]}),A>0&&e.jsxs("div",{className:"glass-panel",style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.25rem"},children:"ðŸ“š"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--accent-violet)"},children:A}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Community guides"})]})]}),k>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[v.length>=2&&e.jsxs("button",{onClick:()=>{const e=v.join(",");window.location.href=`/#/compare-cards?cards=${e}`},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"10px",background:"linear-gradient(90deg, var(--accent-violet), var(--accent-pink))",border:"none",color:"#fff",fontWeight:"600",cursor:"pointer"},children:["âš–ï¸ Compare Cards (",v.length,")"]}),e.jsx("button",{onClick:()=>{const e={cards:$.map(e=>e.name),vouchers:R.map(e=>e.brand),exportedAt:(new Date).toISOString()},r=`My Favorites\n\nCards (${e.cards.length}):\n${e.cards.map(e=>`â€¢ ${e}`).join("\n")}\n\nVouchers (${e.vouchers.length}):\n${e.vouchers.map(e=>`â€¢ ${e}`).join("\n")}`;navigator.clipboard.writeText(r),alert("Favorites list copied to clipboard!")},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"10px",background:"rgba(255,255,255,0.1)",border:"1px solid var(--glass-border)",color:"var(--text-primary)",fontWeight:"500",cursor:"pointer"},children:"ðŸ“‹ Export List"})]}),k>0&&e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",color:"var(--text-secondary)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:"ðŸ• Recently Added"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"0.5rem"},children:[$.slice(-3).reverse().map(r=>e.jsxs(s,{to:`/card-guide/${r.slug||r.id}`,className:"glass-panel",style:{minWidth:"200px",padding:"1rem",textDecoration:"none",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"rgba(6, 182, 212, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:"ðŸ’³"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",fontSize:"0.9rem"},children:r.name.length>20?r.name.slice(0,20)+"...":r.name}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:r.bank})]})]},`recent-card-${r.id}`)),R.slice(-2).reverse().map(r=>e.jsxs(s,{to:`/voucher/${r.slug}`,className:"glass-panel",style:{minWidth:"180px",padding:"1rem",display:"flex",alignItems:"center",gap:"12px",textDecoration:"none"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"rgba(236, 72, 153, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:"ðŸŽŸï¸"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",fontSize:"0.9rem"},children:r.brand}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:r.category})]})]},`recent-voucher-${r.slug}`))]})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap"},children:T.map(r=>e.jsxs("button",{onClick:()=>F(r.id),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:W===r.id?"1px solid var(--accent-cyan)":"1px solid var(--glass-border)",background:W===r.id?"rgba(6, 182, 212, 0.15)":"rgba(255,255,255,0.05)",color:W===r.id?"var(--accent-cyan)":"var(--text-secondary)",cursor:"pointer",fontSize:"1rem",fontWeight:W===r.id?"600":"400",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.label,r.count>0&&e.jsx("span",{style:{background:W===r.id?"var(--accent-cyan)":"var(--glass-border)",color:W===r.id?"#000":"var(--text-secondary)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:r.count})]},r.id))}),e.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:["cards"===W&&e.jsx("div",{children:0===$.length?e.jsx(x,{icon:"ðŸ’³",title:"No favorite cards yet",description:"Browse credit cards and click the heart icon to save them here.",link:"/know-your-cards",linkText:"Browse Cards"}):e.jsx("div",{className:"favorites-grid",children:$.map(r=>e.jsxs("div",{className:"favorite-card glass-panel",children:[e.jsx("button",{className:"favorite-remove-btn",onClick:()=>y(r.id),title:"Remove from favorites",children:"âœ•"}),e.jsxs(s,{to:`/card-guide/${r.slug||r.id}`,className:"favorite-card-link",children:[e.jsx("div",{className:"favorite-card-image",children:e.jsx(m,{card:r,style:{maxWidth:"140px",maxHeight:"90px"}})}),e.jsxs("div",{className:"favorite-card-info",children:[e.jsx("h4",{children:r.name}),e.jsx("p",{className:"favorite-card-bank",children:r.bank}),e.jsxs("div",{className:"favorite-card-meta",children:[e.jsx("span",{className:"favorite-card-fee",children:"â‚¹0"===r.annualFee||"Nil"===r.annualFee?"âœ“ Free":r.annualFee}),e.jsx("span",{className:"favorite-card-reward",children:r.rewardRate})]})]})]})]},r.id))})}),"vouchers"===W&&e.jsx("div",{children:0===R.length?e.jsx(x,{icon:"ðŸŽŸï¸",title:"No favorite vouchers yet",description:"Browse vouchers and click the heart icon to save them here.",link:"/",linkText:"Browse Vouchers"}):e.jsx("div",{className:"favorites-grid",children:R.map(r=>e.jsxs("div",{className:"favorite-voucher glass-panel",children:[e.jsx("button",{className:"favorite-remove-btn",onClick:()=>j(r.slug),title:"Remove from favorites",children:"âœ•"}),e.jsxs("div",{className:"favorite-voucher-content",children:[e.jsx("div",{className:"favorite-voucher-logo",children:r.logo?e.jsx("img",{src:g(r.logo),alt:r.brand}):e.jsx("span",{className:"brand-letter",children:r.brand.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"favorite-voucher-info",children:[e.jsx("h4",{children:r.brand}),e.jsx("p",{className:"favorite-voucher-category",children:r.category}),e.jsxs("div",{className:"favorite-voucher-platforms",children:[r.platforms.slice(0,3).map((r,s)=>e.jsx("span",{className:"platform-tag",children:r.name},s)),r.platforms.length>3&&e.jsxs("span",{className:"platform-tag",children:["+",r.platforms.length-3]})]})]})]})]},r.slug))})}),"guides"===W&&e.jsx("div",{children:0===A?e.jsx(x,{icon:"ðŸ“š",title:"No saved community guides",description:"Browse guides and click the heart icon to save them.",link:"/guides",linkText:"Browse Guides"}):e.jsx("div",{className:"favorites-grid favorites-grid-guides",children:V.filter(e=>"community"===e.type).map(r=>e.jsxs("div",{className:"favorite-guide glass-panel",children:[e.jsx("button",{className:"favorite-remove-btn",onClick:()=>b(r.id),title:"Remove from favorites",children:"âœ•"}),e.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"favorite-guide-link",style:{textDecoration:"none"},children:[e.jsxs("div",{className:"favorite-guide-header",children:[e.jsx("span",{className:"favorite-guide-type",children:"ðŸ“ Community"}),e.jsx("span",{className:"favorite-guide-bank",children:r.author})]}),e.jsx("h4",{children:r.title}),r.tags&&e.jsx("div",{className:"favorite-guide-cards",style:{marginTop:"0.5rem"},children:r.tags.slice(0,2).map((r,s)=>e.jsx("span",{className:"card-tag",children:r},s))})]})]},r.id))})}),"banking"===W&&e.jsx("div",{children:0===I?e.jsx(x,{icon:"ðŸ¦",title:"No saved banking guides",description:"Browse banking guides and click the bookmark icon to save them.",link:"/banking-guides",linkText:"Browse Banking Guides"}):e.jsx("div",{className:"favorites-grid favorites-grid-guides",children:V.filter(e=>"community"!==e.type).map(r=>e.jsxs("div",{className:"favorite-guide glass-panel",children:[e.jsx("button",{className:"favorite-remove-btn",onClick:()=>b(r.id),title:"Remove from favorites",children:"âœ•"}),e.jsxs(s,{to:"/banking-guides",className:"favorite-guide-link",children:[e.jsxs("div",{className:"favorite-guide-header",children:[e.jsx("span",{className:"favorite-guide-type",children:"wealth"===r.type?"ðŸ’Ž Wealth":"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Family"}),e.jsx("span",{className:"favorite-guide-bank",children:r.bank})]}),e.jsx("h4",{children:r.name}),r.minNRV&&e.jsxs("p",{className:"favorite-guide-nrv",children:["Min NRV: ",r.minNRV]}),r.eligibleCards&&e.jsx("div",{className:"favorite-guide-cards",children:r.eligibleCards.slice(0,2).map((r,s)=>e.jsx("span",{className:"card-tag",children:r},s))})]})]},r.id))})})]})]})},x=({icon:r,title:i,description:a,link:t,linkText:n})=>e.jsxs("div",{className:"favorites-empty-state",children:[e.jsx("div",{className:"empty-icon",children:r}),e.jsx("h3",{children:i}),e.jsx("p",{children:a}),e.jsxs(s,{to:t,className:"empty-cta",children:[n," â†’"]})]});export{h as default};
