{% load wagtailcore_tags %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ page.title }}</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        line-height: 1.6;
      }

      h1 {
        border-bottom: 2px solid #eee;
        padding-bottom: 0.5rem;
      }

      .intro {
        font-size: 1.25rem;
        color: #666;
        font-style: italic;
        margin-bottom: 2rem;
      }

      .block-heading {
        margin-top: 2rem;
        color: #333;
      }

      .block-paragraph {
        margin-bottom: 1rem;
      }

      .block-embed {
        margin: 2rem 0;
        text-align: center;
      }

      .admin-note {
        background: #fdf2f2;
        border: 1px solid #f8cbcb;
        color: #c0392b;
        padding: 1rem;
        margin-bottom: 2rem;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <div class="admin-note">
      <strong>Note:</strong> This is a basic preview template. The actual content is consumed by the React frontend
      via the API.
    </div>
    <h1>{{ page.title }}</h1>
    {% if page.intro %}<div class="intro">{{ page.intro }}</div>{% endif %}
    <div class="content">
      {% for block in page.body %}
        {% if block.block_type == 'heading' %}
          <h2 class="block-heading">{{ block.value }}</h2>
        {% elif block.block_type == 'paragraph' %}
          <div class="block-paragraph">{{ block.value|richtext }}</div>
        {% elif block.block_type == 'embed' %}
          <div class="block-embed">{{ block.value|safe }}</div>
        {% endif %}
      {% endfor %}
    </div>
  </body>
</html>
